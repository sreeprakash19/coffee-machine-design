{"version":3,"file":"position-align.js","sourceRoot":"","sources":["../../../../../src/compile/mark/encode/position-align.ts"],"names":[],"mappings":"AAGA,OAAO,EAAC,eAAe,EAAC,MAAM,eAAe,CAAC;AAE9C,OAAO,EAAC,aAAa,EAAC,MAAM,cAAc,CAAC;AAE3C,MAAM,iBAAiB,GAAoC;IACzD,IAAI,EAAE,GAAG;IACT,MAAM,EAAE,IAAI;IACZ,KAAK,EAAE,IAAI;CACH,CAAC;AAEX,MAAM,mBAAmB,GAAG;IAC1B,GAAG,EAAE,GAAG;IACR,MAAM,EAAE,IAAI;IACZ,MAAM,EAAE,IAAI;CACJ,CAAC;AAEX,MAAM,UAAU,sBAAsB,CAAC,OAAkB,EAAE,OAAgB,EAAE,MAAc;IACzF,MAAM,YAAY,GAAG,OAAO,KAAK,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,UAAU,CAAC;IAC5D,MAAM,KAAK,GAAG,eAAe,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,aAAa,CAAC,YAAY,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC;IACnG,IAAI,OAAO,KAAK,GAAG,EAAE;QACnB,OAAO,iBAAiB,EAAC,KAAK,aAAL,KAAK,cAAL,KAAK,GAAI,QAAQ,EAAC,CAAC;KAC7C;SAAM;QACL,OAAO,mBAAmB,EAAC,KAAK,aAAL,KAAK,cAAL,KAAK,GAAI,QAAQ,EAAC,CAAC;KAC/C;AACH,CAAC","sourcesContent":["import {Align} from 'vega';\nimport {Config} from '../../../config';\nimport {MarkDef} from '../../../mark';\nimport {getFirstDefined} from '../../../util';\nimport {VgEncodeChannel} from '../../../vega.schema';\nimport {getMarkConfig} from '../../common';\n\nconst ALIGNED_X_CHANNEL: {[a in Align]: VgEncodeChannel} = {\n  left: 'x',\n  center: 'xc',\n  right: 'x2'\n} as const;\n\nconst BASELINED_Y_CHANNEL = {\n  top: 'y',\n  middle: 'yc',\n  bottom: 'y2'\n} as const;\n\nexport function alignedPositionChannel(channel: 'x' | 'y', markDef: MarkDef, config: Config) {\n  const alignChannel = channel === 'x' ? 'align' : 'baseline';\n  const align = getFirstDefined(markDef[alignChannel], getMarkConfig(alignChannel, markDef, config));\n  if (channel === 'x') {\n    return ALIGNED_X_CHANNEL[align ?? 'center'];\n  } else {\n    return BASELINED_Y_CHANNEL[align ?? 'middle'];\n  }\n}\n"]}